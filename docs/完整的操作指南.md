# ğŸ‰ AIé¸è‚¡ç³»çµ±æª”æ¡ˆè£œå…¨å®ŒæˆæŒ‡å—

æ­å–œï¼æ‰€æœ‰å¿…è¦çš„æª”æ¡ˆéƒ½å·²ç¶“æº–å‚™å®Œæˆã€‚ä»¥ä¸‹æ˜¯è©³ç´°çš„æ“ä½œæ­¥é©Ÿï¼Œå³ä½¿ä½ ä¸æ‡‚ç¨‹å¼è¨­è¨ˆä¹Ÿèƒ½è¼•é¬†å®Œæˆã€‚

## ğŸ“ ç¬¬ä¸€æ­¥ï¼šå»ºç«‹æª”æ¡ˆå’Œç›®éŒ„

### 1.1 å»ºç«‹æ‰€æœ‰éœ€è¦çš„è³‡æ–™å¤¾
åœ¨ä½ çš„å°ˆæ¡ˆæ ¹ç›®éŒ„ä¸­ï¼Œå»ºç«‹ä»¥ä¸‹è³‡æ–™å¤¾çµæ§‹ï¼š

```
ai-stock-selector/
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ public/
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ components/
â”‚       â”‚   â””â”€â”€ Layout/
â”‚       â””â”€â”€ pages/
â”œâ”€â”€ tests/
â”œâ”€â”€ scripts/
â””â”€â”€ deployment/
```

**å…·é«”æ“ä½œï¼š**
- åœ¨Windowsï¼šå³éµ â†’ æ–°å¢è³‡æ–™å¤¾
- åœ¨Macï¼šå³éµ â†’ æ–°å¢è³‡æ–™å¤¾
- æˆ–ä½¿ç”¨å‘½ä»¤åˆ—ï¼š`mkdir -p frontend/public frontend/src/components/Layout frontend/src/pages tests scripts deployment`

### 1.2 è¤‡è£½æ‰€æœ‰æª”æ¡ˆå…§å®¹
å°‡æˆ‘æä¾›çš„æ¯å€‹æª”æ¡ˆå…§å®¹ï¼Œè¤‡è£½åˆ°å°æ‡‰çš„ä½ç½®ï¼š

#### ğŸ Pythonæª”æ¡ˆ (ç›´æ¥è¤‡è£½è²¼ä¸Š)
1. `backend/__init__.py` - è¤‡è£½ç¬¬1å€‹æª”æ¡ˆçš„å…§å®¹
2. `backend/app/__init__.py` - è¤‡è£½ç¬¬2å€‹æª”æ¡ˆçš„å…§å®¹
3. `backend/app/api/__init__.py` - è¤‡è£½ç¬¬3å€‹æª”æ¡ˆçš„å…§å®¹
4. `backend/app/models/__init__.py` - è¤‡è£½ç¬¬3å€‹æª”æ¡ˆçš„å…§å®¹
5. `backend/app/utils/__init__.py` - è¤‡è£½ç¬¬3å€‹æª”æ¡ˆçš„å…§å®¹
6. `data_collector/__init__.py` - è¤‡è£½ç¬¬3å€‹æª”æ¡ˆçš„å…§å®¹
7. `data_collector/scrapers/__init__.py` - è¤‡è£½ç¬¬3å€‹æª”æ¡ˆçš„å…§å®¹
8. `data_collector/schedulers/__init__.py` - è¤‡è£½ç¬¬3å€‹æª”æ¡ˆçš„å…§å®¹
9. `backend/celery_app.py` - è¤‡è£½Celeryæ‡‰ç”¨ç¨‹å¼é…ç½®
10. `backend/app/tasks.py` - è¤‡è£½èƒŒæ™¯ä»»å‹™å®šç¾©

#### âš™ï¸ é…ç½®æª”æ¡ˆ
11. `.env.example` - è¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
12. `deployment/.env.prod.example` - è¤‡è£½ç”Ÿç”¢ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
13. `backend/Dockerfile` - è¤‡è£½Dockeræª”æ¡ˆï¼ˆæ³¨æ„ï¼šåŸæœ¬çš„dockerfile.txtè¦åˆªé™¤ï¼‰
14. `docker-compose.yml` - æ›´æ–°ç‚ºæ–°ç‰ˆæœ¬
15. `deployment/docker-compose.prod.yml` - è¤‡è£½ç”Ÿç”¢é…ç½®
16. `deployment/nginx.conf` - è¤‡è£½Nginxé…ç½®

#### ğŸŒ å‰ç«¯æª”æ¡ˆ
17. `frontend/package.json` - è¤‡è£½å‰ç«¯å¥—ä»¶é…ç½®
18. `frontend/Dockerfile` - è¤‡è£½å‰ç«¯Dockeré…ç½®
19. `frontend/nginx.conf` - è¤‡è£½å‰ç«¯Nginxé…ç½®
20. `frontend/src/index.tsx` - è¤‡è£½Reactå…¥å£æª”æ¡ˆ
21. `frontend/src/index.css` - è¤‡è£½åŸºæœ¬æ¨£å¼
22. `frontend/src/App.css` - è¤‡è£½æ‡‰ç”¨æ¨£å¼
23. `frontend/src/App.tsx` - æ›´æ–°ä¸»æ‡‰ç”¨ç¨‹å¼ï¼ˆå·²æä¾›ï¼‰
24. `frontend/src/components/Layout/Header.tsx` - è¤‡è£½é ‚éƒ¨å°èˆª
25. `frontend/src/components/Layout/Sidebar.tsx` - è¤‡è£½å´é‚Šé¸å–®
26. `frontend/src/components/Layout/Footer.tsx` - è¤‡è£½åº•éƒ¨å…ƒä»¶
27. `frontend/src/pages/Dashboard.tsx` - è¤‡è£½å„€è¡¨æ¿é é¢
28. `frontend/src/pages/StockList.tsx` - è¤‡è£½è‚¡ç¥¨æ¸…å–®é é¢
29. `frontend/src/pages/StockDetail.tsx` - è¤‡è£½è‚¡ç¥¨è©³æƒ…é é¢
30. `frontend/src/pages/IndustryRotation.tsx` - è¤‡è£½ç”¢æ¥­è¼ªå‹•é é¢
31. `frontend/src/pages/SmartSelection.tsx` - è¤‡è£½æ™ºèƒ½é¸è‚¡é é¢
32. `frontend/src/pages/TechnicalAnalysis.tsx` - è¤‡è£½æŠ€è¡“åˆ†æé é¢
33. `frontend/public/index.html` - è¤‡è£½ä¸»HTMLæª”æ¡ˆ
34. `frontend/tsconfig.json` - è¤‡è£½TypeScriptè¨­å®š
35. `frontend/public/manifest.json` - è¤‡è£½PWAæ¸…å–®
36. `frontend/.env.example` - è¤‡è£½å‰ç«¯ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹

#### ğŸ§ª æ¸¬è©¦æª”æ¡ˆ
37. `tests/__init__.py` - è¤‡è£½æ¸¬è©¦å¥—ä»¶åˆå§‹åŒ–
38. `tests/conftest.py` - è¤‡è£½æ¸¬è©¦é…ç½®
39. `tests/test_api.py` - è¤‡è£½APIæ¸¬è©¦
40. `tests/test_indicators.py` - è¤‡è£½æŠ€è¡“æŒ‡æ¨™æ¸¬è©¦
41. `tests/test_database.py` - è¤‡è£½è³‡æ–™åº«æ¸¬è©¦
42. `tests/test_scrapers.py` - è¤‡è£½çˆ¬èŸ²æ¸¬è©¦

#### ğŸš€ éƒ¨ç½²è…³æœ¬
43. `scripts/backup.sh` - è¤‡è£½å‚™ä»½è…³æœ¬
44. `scripts/deploy.sh` - è¤‡è£½éƒ¨ç½²è…³æœ¬

## ğŸ“ ç¬¬äºŒæ­¥ï¼šè¨­å®šç’°å¢ƒè®Šæ•¸

### 2.1 è¨­å®šé–‹ç™¼ç’°å¢ƒ
1. è¤‡è£½ `.env.example` ç‚º `.env`
   ```bash
   cp .env.example .env
   ```

2. ç·¨è¼¯ `.env` æª”æ¡ˆï¼Œä¿®æ”¹ä»¥ä¸‹é‡è¦è¨­å®šï¼š
   ```bash
   # è³‡æ–™åº«å¯†ç¢¼ (è«‹æ”¹æˆä½ è‡ªå·±çš„å¼·å¯†ç¢¼)
   POSTGRES_PASSWORD=your_secure_password_here
   
   # ç³»çµ±é‡‘é‘° (è«‹æ”¹æˆä¸€å€‹è¤‡é›œçš„å­—ä¸²)
   SECRET_KEY=your_very_secure_secret_key_here
   
   # å…¶ä»–å¯†ç¢¼
   INFLUXDB_PASSWORD=your_influxdb_password
   REDIS_PASSWORD=your_redis_password
   ```

### 2.2 è¨­å®šå‰ç«¯ç’°å¢ƒ
1. è¤‡è£½ `frontend/.env.example` ç‚º `frontend/.env.local`
   ```bash
   cp frontend/.env.example frontend/.env.local
   ```

2. æª¢æŸ¥è¨­å®šæ˜¯å¦æ­£ç¢ºï¼ˆé€šå¸¸é è¨­å€¼å°±å¯ä»¥ï¼‰

## ğŸš€ ç¬¬ä¸‰æ­¥ï¼šå•Ÿå‹•ç³»çµ±

### 3.1 ç¢ºä¿Dockerå·²å®‰è£
- ç¢ºèªä½ çš„é›»è…¦å·²å®‰è£ Docker å’Œ Docker Compose
- å¦‚æœæ²’æœ‰ï¼Œè«‹åˆ° [Dockerå®˜ç¶²](https://www.docker.com/get-started) ä¸‹è¼‰å®‰è£

### 3.2 å»ºç½®å’Œå•Ÿå‹•æœå‹™
1. åœ¨å°ˆæ¡ˆæ ¹ç›®éŒ„åŸ·è¡Œï¼š
   ```bash
   # å»ºç½®æ‰€æœ‰æœå‹™
   docker-compose build
   
   # å•Ÿå‹•æ‰€æœ‰æœå‹™
   docker-compose up -d
   ```

2. ç­‰å¾…æœå‹™å•Ÿå‹•å®Œæˆï¼ˆç´„3-5åˆ†é˜ï¼‰

### 3.3 æª¢æŸ¥æœå‹™ç‹€æ…‹
```bash
# æª¢æŸ¥æ‰€æœ‰æœå‹™æ˜¯å¦æ­£å¸¸é‹è¡Œ
docker-compose ps

# æŸ¥çœ‹æœå‹™æ—¥èªŒ
docker-compose logs -f
```

## ğŸ”§ ç¬¬å››æ­¥ï¼šåˆå§‹åŒ–è³‡æ–™

### 4.1 å»ºç«‹è³‡æ–™åº«è¡¨æ ¼
```bash
docker-compose exec backend python -c "
from app.database import db_manager
import asyncio
asyncio.run(db_manager.create_tables())
"
```

### 4.2 å•Ÿå‹•åˆå§‹è³‡æ–™æ”¶é›†
```bash
docker-compose exec backend python -c "
from app.main import celery
celery.send_task('app.tasks.daily_data_update')
"
```

## ğŸŒ ç¬¬äº”æ­¥ï¼šå­˜å–ç³»çµ±

### 5.1 é–‹å•Ÿç€è¦½å™¨ï¼Œè¨ªå•ä»¥ä¸‹ç¶²å€ï¼š
- **å‰ç«¯ç¶²ç«™**: http://localhost:3000
- **APIæ–‡æª”**: http://localhost:8000/docs
- **Celeryç›£æ§**: http://localhost:5555
- **ç³»çµ±å¥åº·æª¢æŸ¥**: http://localhost:8000/health

### 5.2 å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ æ‡‰è©²çœ‹åˆ°ï¼š
- âœ… å‰ç«¯ç¶²ç«™é¡¯ç¤ºAIé¸è‚¡ç³»çµ±ç•Œé¢
- âœ… APIæ–‡æª”é é¢å¯ä»¥æ­£å¸¸é–‹å•Ÿ
- âœ… å„é …æœå‹™ç‹€æ…‹é¡¯ç¤ºç‚ºå¥åº·

## ğŸ› ï¸ å¸¸ç”¨æŒ‡ä»¤

### æŸ¥çœ‹æœå‹™ç‹€æ…‹
```bash
docker-compose ps
```

### æŸ¥çœ‹æœå‹™æ—¥èªŒ
```bash
# æŸ¥çœ‹æ‰€æœ‰æœå‹™æ—¥èªŒ
docker-compose logs

# æŸ¥çœ‹ç‰¹å®šæœå‹™æ—¥èªŒ
docker-compose logs backend
docker-compose logs frontend
```

### é‡å•Ÿæœå‹™
```bash
# é‡å•Ÿæ‰€æœ‰æœå‹™
docker-compose restart

# é‡å•Ÿç‰¹å®šæœå‹™
docker-compose restart backend
```

### åœæ­¢æœå‹™
```bash
docker-compose down
```

### æ›´æ–°ä»£ç¢¼å¾Œé‡å»º
```bash
docker-compose down
docker-compose build --no-cache
docker-compose up -d
```

## ğŸš¨ æ•…éšœæ’é™¤

### å•é¡Œ1ï¼šå®¹å™¨å•Ÿå‹•å¤±æ•—
**è§£æ±ºæ–¹æ³•ï¼š**
1. æª¢æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
   ```bash
   netstat -tlnp | grep :5432  # PostgreSQL
   netstat -tlnp | grep :6379  # Redis
   netstat -tlnp | grep :8000  # Backend
   netstat -tlnp | grep :3000  # Frontend
   ```

2. å¦‚æœç«¯å£è¢«å ç”¨ï¼Œåœæ­¢å ç”¨çš„ç¨‹å¼æˆ–ä¿®æ”¹é…ç½®

### å•é¡Œ2ï¼šè³‡æ–™åº«é€£æ¥å¤±æ•—
**è§£æ±ºæ–¹æ³•ï¼š**
1. æª¢æŸ¥PostgreSQLå®¹å™¨ç‹€æ…‹
   ```bash
   docker-compose logs postgres
   ```

2. ç¢ºèªç’°å¢ƒè®Šæ•¸è¨­å®šæ­£ç¢º

### å•é¡Œ3ï¼šå‰ç«¯ç„¡æ³•è¼‰å…¥
**è§£æ±ºæ–¹æ³•ï¼š**
1. æª¢æŸ¥å‰ç«¯å®¹å™¨æ—¥èªŒ
   ```bash
   docker-compose logs frontend
   ```

2. ç¢ºèªå¾Œç«¯APIæ˜¯å¦æ­£å¸¸é‹è¡Œ

### å•é¡Œ4ï¼šæ¬Šé™éŒ¯èª¤
**è§£æ±ºæ–¹æ³•ï¼š**
1. çµ¦è…³æœ¬åŸ·è¡Œæ¬Šé™
   ```bash
   chmod +x scripts/backup.sh
   chmod +x scripts/deploy.sh
   ```

## ğŸ¯ ä¸‹ä¸€æ­¥è¨ˆç•«

### ç¬¬ä¸€éšæ®µå®Œæˆæª¢æŸ¥è¡¨
- [ ] æ‰€æœ‰æª”æ¡ˆå·²å»ºç«‹ä¸¦æ”¾ç½®åœ¨æ­£ç¢ºä½ç½®
- [ ] ç’°å¢ƒè®Šæ•¸å·²æ­£ç¢ºè¨­å®š
- [ ] Dockeræœå‹™å…¨éƒ¨æ­£å¸¸å•Ÿå‹•
- [ ] å‰ç«¯ç¶²ç«™å¯ä»¥æ­£å¸¸è¨ªå•
- [ ] APIç«¯é»å¯ä»¥æ­£å¸¸è¨ªå•
- [ ] è³‡æ–™åº«é€£æ¥æ­£å¸¸
- [ ] åŸºæœ¬è³‡æ–™æ”¶é›†åŠŸèƒ½é‹ä½œ

### æº–å‚™ç¬¬äºŒéšæ®µé–‹ç™¼
ç•¶ç¬¬ä¸€éšæ®µç©©å®šé‹è¡Œå¾Œï¼Œå¯ä»¥é–‹å§‹ï¼š
1. **AIæ¨¡å‹é–‹ç™¼** - å¯¦ä½œæ™ºèƒ½é¸è‚¡ç®—æ³•
2. **åœ–è¡¨æ•´åˆ** - åŠ å…¥TradingViewåœ–è¡¨
3. **å³æ™‚è³‡æ–™** - å¯¦ä½œWebSocketå³æ™‚æ›´æ–°
4. **é€²éšåŠŸèƒ½** - æŠ•è³‡çµ„åˆç®¡ç†ã€é¢¨éšªè©•ä¼°ç­‰
5. **è¡Œå‹•æ‡‰ç”¨** - é–‹ç™¼æ‰‹æ©ŸAPP

## ğŸ“ éœ€è¦å¹«åŠ©ï¼Ÿ

å¦‚æœåœ¨è¨­å®šéç¨‹ä¸­é‡åˆ°å•é¡Œï¼š

1. **æª¢æŸ¥æ—¥èªŒ**: ä½¿ç”¨ `docker-compose logs` æŸ¥çœ‹è©³ç´°éŒ¯èª¤è¨Šæ¯
2. **é‡æ–°å•Ÿå‹•**: å˜—è©¦ `docker-compose down` ç„¶å¾Œ `docker-compose up -d`
3. **æ¸…ç†é‡å»º**: ä½¿ç”¨ `docker system prune -f` æ¸…ç†å¾Œé‡æ–°å»ºç½®
4. **ç¢ºèªç’°å¢ƒ**: æª¢æŸ¥ `.env` æª”æ¡ˆä¸­çš„è¨­å®šæ˜¯å¦æ­£ç¢º

---

## ğŸ‰ æ­å–œä½ ï¼

å¦‚æœèƒ½çœ‹åˆ°å‰ç«¯ç•Œé¢ä¸¦ä¸”APIæ­£å¸¸é‹ä½œï¼Œè¡¨ç¤ºç¬¬ä¸€éšæ®µå·²ç¶“æˆåŠŸå®Œæˆï¼ä½ ç¾åœ¨æ“æœ‰ä¸€å€‹å®Œæ•´çš„AIé¸è‚¡ç³»çµ±åŸºç¤æ¶æ§‹ã€‚

**ç¾åœ¨å¯ä»¥é–‹å§‹ä½¿ç”¨çš„åŠŸèƒ½ï¼š**
- âœ… ç€è¦½è‚¡ç¥¨æ¸…å–®
- âœ… æŸ¥çœ‹å€‹åˆ¥è‚¡ç¥¨è³‡è¨Š
- âœ… ç”¢æ¥­è¼ªå‹•åˆ†æä»‹é¢
- âœ… AIé¸è‚¡è¨­å®šä»‹é¢
- âœ… æŠ€è¡“åˆ†æåŠŸèƒ½æ¶æ§‹
- âœ… è‡ªå‹•è³‡æ–™æ”¶é›†æ’ç¨‹
- âœ… ç³»çµ±ç›£æ§å’Œå¥åº·æª¢æŸ¥

æ¥ä¸‹ä¾†å°±å¯ä»¥é–‹å§‹ç¬¬äºŒéšæ®µçš„AIæ¨¡å‹è¨“ç·´å’Œé€²éšåŠŸèƒ½é–‹ç™¼äº†ï¼